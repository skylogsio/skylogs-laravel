###

POST {{domain}}/fire-alert
Content-Type: application/json
Accept: application/json
Authorization: Bearer {{alertToken}}

{
    "instance" : "test",
    "description" : "myDes"
}

###

POST {{domain}}/resolve-alert
Content-Type: application/json
Accept: application/json
Authorization: Bearer {{alertToken}}

{
    "instance" : "test",
    "description" : "myDes"
}


###

POST {{domain}}/notification-alert
Content-Type: application/json
Accept: application/json
Authorization: Bearer {{alertToken}}

{
    "instance" : "test",
    "description" : "myDes"
}


###

POST {{domain}}/pmm-alert/bkp4T
Content-Type: application/json
Accept: application/json

{
    "receiver": "skylogs-notifier",
    "status": "resolved",
    "alerts": [
        {
            "status": "resolved",
            "labels": {
                "agent_id": "\/agent_id\/e58bdd69-37f4-4bb0-92af-a1f9a60bb909",
                "agent_type": "mysqld_exporter",
                "alertname": "pmm_mysql_too_manrting Rule",
                "container_name": "mysqlClient",
                "grafana_folder": "MySQL",
                "instance": "\/agent_id\/e58bdd69-37f4-4bb0-92af-a1f9a60bb909",
                "testL": "tesstV",
                "machine_id": "mysql",
                "node_id": "\/node_id\/8c1920c2-2914-47e4-bbed-f49f3a76213f",
                "node_name": "pmm-client-749c64d867-8jkdr",
                "node_type": "generic",
                "percona_alerting": "1",
                "service_id": "\/service_id\/67e709ff-3dd8-4d23-be46-75ad2ec51961",
                "service_name": "service_name=checkout_master_staging",
                "service_type": "mysql",
                "severity": "warning",
                "template_name": "pmm_mysql_too_many_connections"
            },
            "annotations": {
                "description": "[ var='A' labels={agent_id=\/agent_id\/e58bdd69-37f4-4bb0-92af-a1f9a60bb909, agent_type=mysqld_exporter, container_name=mysqlClient, instance=\/agent_id\/e58bdd69-37f4-4bb0-92af-a1f9a60bb909, machine_id=mysql, node_id=\/node_id\/8c1920c2-2914-47e4-bbed-f49f3a76213f, node_name=pmm-client-749c64d867-8jkdr, node_type=generic, service_id=\/service_id\/67e709ff-3dd8-4d23-be46-75ad2ec51961, service_name=service_name=checkout_master_staging, service_type=mysql} value=0 ]% of connections (more than 15%) are used\nby service_name=checkout_master_staging on pmm-client-749c64d867-8jkdr.",
                "summary": "MySQL too many connections (service_name=checkout_master_staging)"
            },
            "startsAt": "2023-12-27T11:31:00Z",
            "endsAt": "2023-12-27T11:33:00Z",
            "generatorURL": "https:\/\/localhost\/graph\/alerting\/grafana\/mmRCH_HIz\/view",
            "fingerprint": "5366bbc551e0bc30",
            "silenceURL": "https:\/\/localhost\/graph\/alerting\/silence\/new?alertmanager=grafana&matcher=agent_id%3D%2Fagent_id%2Fe58bdd69-37f4-4bb0-92af-a1f9a60bb909&matcher=agent_type%3Dmysqld_exporter&matcher=alertname%3Dpmm_mysql_too_many_connections+Alerting+Rule&matcher=container_name%3DmysqlClient&matcher=grafanae%3Dpmm_mysql_too_many_connections",
            "dashboardURL": null,
            "panelURL": null,
            "valueString": "[ var='A' labels={agent_id=\/agent_id\/e58bdd69-37f4-4bb0-92af-a1f9a60bb909, agent_type=mysqld_exporter, container_name=mysqlClient, instance=\/agent_id\/e58bdd69-37f4-4bb0-92af-a1f9a60bb909, machine_id=mysql, node_id=\/node_id\/8c1920c2-2914-47e4-bbed-f49f3a76213f, node_name=pmm-client-749c64d867-8jkdr, node_type=generic, service_id=\/service_id\/67e709ff-3dd8-4d23-be46-75ad2ec51961, service_name=service_name=checkout_master_staging, service_type=mysql} value=0 ]"
        }
    ],
    "groupLabels": {
        "alertname": "pmm_mysql_too_many_connectioning Rule",
        "grafana_folder": "MySQL"
    },
    "commonLabels": {
        "agent_id": "\/agent_id\/e58bdd69-37f4-4bb0-92af-a1f9a60bb909",
        "agent_type": "mysqld_exporter",
        "alertname": "pmm_mysql_too_many_coting Rule",
        "container_name": "mysqlClient",
        "grafana_folder": "MySQL",
        "instance": "\/agent_id\/e58bdd69-37f4-4bb0-92af-a1f9a60bb909",
        "machine_id": "mysql",
        "node_id": "\/node_id\/8c1920c2-2914-47e4-bbed-f49f3a76213f",
        "node_name": "pmm-client-749c64d867-8jkdr",
        "node_type": "generic",
        "percona_alerting": "1",
        "service_id": "\/service_id\/67e709ff-3dd8-4d23-be46-75ad2ec51961",
        "service_name": "service_name=checkout_master_staging",
        "service_type": "mysql",
        "severity": "warning",
        "template_name": "pmm_mysql_too_many_connections"
    },
    "commonAnnotations": {
        "description": "[ var='A' labels={agent_id=\/agent_id\/e58bdd69-37f4-4bb0-92af-a1f9a60bb909, agent_type=mysqld_exporter, container_name=mysqlClient, instance=\/agent_id\/e58bdd69-37f4-4bb0-92af-a1f9a60bb909, machine_id=mysql, node_id=\/node_id\/8c1920c2-2914-47e4-bbed-f49f3a76213f, node_name=pmm-client-749c64d867-8jkdr, node_type=generic, service_id=\/service_id\/67e709ff-3dd8-4d23-be46-75ad2ec51961, service_name=service_name=checkout_master_staging, service_type=mysql} value=0 ]% of connections (more than 15%) are used\nby service_name=checkout_master_staging on pmm-client-749c64d867-8jkdr.",
        "summary": "MySQL too many connections (service_name=checkout_master_staging)"
    },
    "externalURL": "https:\/\/localhost\/graph\/",
    "version": "1",
    "groupKey": "{}:{alertname=\"pmm_mysql_too_many_connections Alerting Rule\", grafana_folder=\"MySQL\"}",
    "truncatedAlerts": 0,
    "orgId": 1,
    "title": "[RESOLVED] pmm_mysql_too_many_connections Alerting Rule MySQL (\/agent_id\/e58bdd69-37f4-4bb0-92af-a1f9a60bb909 mysqld_exporter mysqlClient \/agent_id\/e58bdd69-37f4-4bb0-92af-a1f9a60bb909 mysql \/node_id\/8c1920c2-2914-47e4-bbed-f49f3a76213f pmm-client-749c64d867-8jkdr generic 1 \/service_id\/67e709ff-3dd8-4d23-be46-75ad2ec51961 service_name=checkout_master_staging mysql warning pmm_mysql_too_many_connections)",
    "state": "ok",
    "message": "**Resolved**\n\nValue: [ var3Dwarning&matcher=template_name%3Dpmm_mysql_too_many_connections"
}
